<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/dc32f1eda1949ea1.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-03f7c6bc932ce1e3.js"/><script src="/_next/static/chunks/fd9d1056-b11b2651f33aae7f.js" async=""></script><script src="/_next/static/chunks/117-c69a8044fb9e6347.js" async=""></script><script src="/_next/static/chunks/main-app-27265cc5b3dcc92c.js" async=""></script><script src="/_next/static/chunks/870fdd6f-7d1121d73b7ce91d.js" async=""></script><script src="/_next/static/chunks/69b09407-9eb0958119fc55ca.js" async=""></script><script src="/_next/static/chunks/812-468c3ea239d1ed5c.js" async=""></script><script src="/_next/static/chunks/648-ca5c008ca4413444.js" async=""></script><script src="/_next/static/chunks/519-b283051475233ba7.js" async=""></script><script src="/_next/static/chunks/app/layout-8cac4dc8dec5882f.js" async=""></script><script src="/_next/static/chunks/app/not-found-65ae65ccec8b943d.js" async=""></script><script src="/_next/static/chunks/336-bb4c83f31a5c4b02.js" async=""></script><script src="/_next/static/chunks/app/projects/%5Bid%5D/page-51cd5540df9b79b2.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-9KKL3BNRNY" as="script"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/favicon.svg" type="image/svg+xml"/><link rel="apple-touch-icon" href="/android-chrome-192x192.png"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#3B82F6"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title>MontageROI Segmenter - Web-Based ROI Annotation Tool | Digin Dominic</title><meta name="description" content="A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export."/><link rel="author" href="https://digindominic.me"/><meta name="author" content="Digin Dominic"/><meta name="creator" content="Digin Dominic"/><meta name="publisher" content="Digin Dominic"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://digindominic.me/projects/montageroi-segmenter/"/><meta name="google-site-verification" content="your-google-verification-code"/><meta property="og:title" content="MontageROI Segmenter - Web-Based ROI Annotation Tool | Digin Dominic"/><meta property="og:description" content="A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export."/><meta property="og:url" content="https://digindominic.me/projects/montageroi-segmenter/"/><meta property="og:image" content="https://digindominic.me/images/montageroisegmenter.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="MontageROI Segmenter - Web-Based ROI Annotation Tool"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="MontageROI Segmenter - Web-Based ROI Annotation Tool | Digin Dominic"/><meta name="twitter:description" content="A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export."/><meta name="twitter:image" content="https://digindominic.me/images/montageroisegmenter.jpg"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Digin Dominic","url":"https://digindominic.me","image":"/images/digin.png","jobTitle":"Full Stack Developer","description":"Full Stack Developer & Software Engineer specializing in React, Node.js, Python, and modern web technologies. Building scalable applications and research tools.","sameAs":["https://github.com/digin1","https://linkedin.com/in/digin","https://twitter.com/digin1"],"knowsAbout":["React","Node.js","Python","JavaScript","TypeScript","Web Development","Software Engineering"]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"Digin Dominic","url":"https://digindominic.me","description":"Full Stack Developer & Software Engineer specializing in React, Node.js, Python, and modern web technologies. Building scalable applications and research tools.","author":{"@type":"Person","name":"Digin Dominic"},"potentialAction":{"@type":"SearchAction","target":"https://digindominic.me/projects?search={search_term_string}","query-input":"required name=search_term_string"}}</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="min-h-screen flex flex-col"><script src="/_next/static/chunks/webpack-03f7c6bc932ce1e3.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/dc32f1eda1949ea1.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[2846,[],\"\"]\n5:I[4707,[],\"\"]\n7:I[6423,[],\"\"]\n8:I[8003,[\"676\",\"static/chunks/870fdd6f-7d1121d73b7ce91d.js\",\"958\",\"static/chunks/69b09407-9eb0958119fc55ca.js\",\"812\",\"static/chunks/812-468c3ea239d1ed5c.js\",\"648\",\"static/chunks/648-ca5c008ca4413444.js\",\"519\",\"static/chunks/519-b283051475233ba7.js\",\"185\",\"static/chunks/app/layout-8cac4dc8dec5882f.js\"],\"\"]\n9:I[9567,[\"676\",\"static/chunks/870fdd6f-7d1121d73b7ce91d.js\",\"958\",\"static/chunks/69b09407-9eb0958119fc55ca.js\",\"812\",\"static/chunks/812-468c3ea239d1ed5c.js\",\"648\",\"static/chunks/648-ca5c008ca4413444.js\",\"519\",\"static/chunks/519-b283051475233ba7.js\",\"185\",\"static/chunks/app/layout-8cac4dc8dec5882f.js\"],\"ThemeProvider\"]\na:I[1794,[\"676\",\"static/chunks/870fdd6f-7d1121d73b7ce91d.js\",\"958\",\"static/chunks/69b09407-9eb0958119fc55ca.js\",\"812\",\"static/chunks/812-468c3ea239d1ed5c.js\",\"648\",\"static/chunks/648-ca5c008ca4413444.js\",\"519\",\"static/chunks/519-b283051475233ba7.js\",\"185\",\"static/chunks/app/layout-8cac4dc8dec5882f.js\"],\"default\"]\nb:I[3039,[\"676\",\"static/chunks/870fdd6f-7d1121d73b7ce91d.js\",\"812\",\"static/chunks/812-468c3ea239d1ed5c.js\",\"648\",\"static/chunks/648-ca5c008ca4413444.js\",\"160\",\"static/chunks/app/not-found-65ae65ccec8b943d.js\"],\"default\"]\nc:I[9547,[\"676\",\"static/chunks/870fdd6f-7d1121d73b7ce91d.js\",\"958\",\"static/chunks/69b09407-9eb0958119fc55ca.js\",\"812\",\"static/chunks/812-468c3ea239d1ed5c.js\",\"648\",\"static/chunks/648-ca5c008ca4413444.js\",\"519\",\"static/chunks/519-b283051475233ba7.js\",\"185\",\"static/chunks/app/layout-8cac4dc8dec5882f.js\"],\"default\"]\ne:I[1060,[],\"\"]\n6:[\"id\",\"montageroi-segmenter\",\"d\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"eLO2MIVn3x6m_gBkuHkRv\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"projects\",\"montageroi-segmenter\",\"\"],\"initialTree\":[\"\",{\"children\":[\"projects\",{\"children\":[[\"id\",\"montageroi-segmenter\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"montageroi-segmenter\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"projects\",{\"children\":[[\"id\",\"montageroi-segmenter\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",\"$L4\",null],null],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"projects\",\"children\",\"$6\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"projects\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/dc32f1eda1949ea1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"any\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.svg\",\"type\":\"image/svg+xml\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/android-chrome-192x192.png\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#3B82F6\"}],[\"$\",\"link\",null,{\"rel\":\"sitemap\",\"type\":\"application/xml\",\"href\":\"/sitemap.xml\"}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Digin Dominic\\\",\\\"url\\\":\\\"https://digindominic.me\\\",\\\"image\\\":\\\"/images/digin.png\\\",\\\"jobTitle\\\":\\\"Full Stack Developer\\\",\\\"description\\\":\\\"Full Stack Developer \u0026 Software Engineer specializing in React, Node.js, Python, and modern web technologies. Building scalable applications and research tools.\\\",\\\"sameAs\\\":[\\\"https://github.com/digin1\\\",\\\"https://linkedin.com/in/digin\\\",\\\"https://twitter.com/digin1\\\"],\\\"knowsAbout\\\":[\\\"React\\\",\\\"Node.js\\\",\\\"Python\\\",\\\"JavaScript\\\",\\\"TypeScript\\\",\\\"Web Development\\\",\\\"Software Engineering\\\"]}\"}}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"WebSite\\\",\\\"name\\\":\\\"Digin Dominic\\\",\\\"url\\\":\\\"https://digindominic.me\\\",\\\"description\\\":\\\"Full Stack Developer \u0026 Software Engineer specializing in React, Node.js, Python, and modern web technologies. Building scalable applications and research tools.\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Digin Dominic\\\"},\\\"potentialAction\\\":{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://digindominic.me/projects?search={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}}\"}}]]}],[\"$\",\"body\",null,{\"className\":\"min-h-screen flex flex-col\",\"children\":[[\"$\",\"$L8\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-9KKL3BNRNY\",\"strategy\":\"afterInteractive\"}],[\"$\",\"$L8\",null,{\"id\":\"google-analytics\",\"strategy\":\"afterInteractive\",\"children\":\"\\n            window.dataLayer = window.dataLayer || [];\\n            function gtag(){dataLayer.push(arguments);}\\n            gtag('js', new Date());\\n            gtag('config', 'G-9KKL3BNRNY');\\n          \"}],[\"$\",\"$L9\",null,{\"children\":[[\"$\",\"$La\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 pt-20\",\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"$Lb\",null,{}],\"notFoundStyles\":[]}]}],[\"$\",\"$Lc\",null,{}]]}]]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]\n"])</script><script>self.__next_f.push([1,"10:I[8966,[\"676\",\"static/chunks/870fdd6f-7d1121d73b7ce91d.js\",\"958\",\"static/chunks/69b09407-9eb0958119fc55ca.js\",\"812\",\"static/chunks/812-468c3ea239d1ed5c.js\",\"648\",\"static/chunks/648-ca5c008ca4413444.js\",\"336\",\"static/chunks/336-bb4c83f31a5c4b02.js\",\"626\",\"static/chunks/app/projects/%5Bid%5D/page-51cd5540df9b79b2.js\"],\"default\"]\n11:T1b52,"])</script><script>self.__next_f.push([1,"\u003ch2\u003eProject Overview\u003c/h2\u003e\n\u003cp\u003eMontageROI Segmenter is a specialized web application designed for neuroscience researchers to annotate and segment high-resolution microscopy montage images. The tool enables researchers to load large multi-channel TIFF images, create precise ROI annotations, and export them in ImageJ-compatible formats for downstream analysis.\u003c/p\u003e\n\u003ch2\u003eProject Details\u003c/h2\u003e\n\u003ch3\u003eTechnologies Used\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eFlask (Python Backend)\u003c/li\u003e\n\u003cli\u003eThree.js (WebGL Rendering)\u003c/li\u003e\n\u003cli\u003eJavaScript/HTML5 Canvas\u003c/li\u003e\n\u003cli\u003eBootstrap 5\u003c/li\u003e\n\u003cli\u003eNumPy \u0026#x26; SciPy (Image Processing)\u003c/li\u003e\n\u003cli\u003etifffile (TIFF Handling)\u003c/li\u003e\n\u003cli\u003escikit-image (Image Analysis)\u003c/li\u003e\n\u003cli\u003ePyImageJ (ImageJ Integration)\u003c/li\u003e\n\u003cli\u003eDocker\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eKey Features\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eHigh-Resolution Image Viewing\u003c/strong\u003e: Load and navigate large montage TIFF files with smooth pan/zoom using Three.js WebGL rendering and tile pyramid system\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMulti-Channel Support\u003c/strong\u003e: View composite, false color, max projection, first channel, or grayscale display modes\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eComprehensive ROI Tools\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eBrush painting with adjustable size\u003c/li\u003e\n\u003cli\u003eEraser tool for precise removal\u003c/li\u003e\n\u003cli\u003eBucket fill with tolerance-based filling\u003c/li\u003e\n\u003cli\u003eRectangle and circle shape tools\u003c/li\u003e\n\u003cli\u003ePolygon drawing tool\u003c/li\u003e\n\u003cli\u003eSquare stamp tool with custom dimensions\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTransform Operations\u003c/strong\u003e: Scale, rotate, and move individual or all visible ROIs with bounding box preview\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eROI Management\u003c/strong\u003e: Create, rename, duplicate, merge, reorder (drag-and-drop), and delete ROI layers\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eColor Customization\u003c/strong\u003e: Pick custom colors or use preset palette with adjustable opacity\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eUndo/Redo System\u003c/strong\u003e: Per-ROI history tracking for non-destructive editing\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImage Adjustments\u003c/strong\u003e: Real-time brightness, contrast, and exposure controls with live preview\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImport/Export\u003c/strong\u003e: Load ROI ZIP files or individual .roi/.png files; export all ROIs as ImageJ-compatible ZIP\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstructions Upload\u003c/strong\u003e: Optional text file upload for custom protocols or notes\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTouch Support\u003c/strong\u003e: Optimized for iPad and touch devices with gesture controls\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eDevelopment Process\u003c/h3\u003e\n\u003cp\u003eDeveloped as the primary developer for the Grant Lab at University of Edinburgh to support their neuroscience research workflows.\u003c/p\u003e\n\u003ch4\u003eFrontend Architecture\u003c/h4\u003e\n\u003cp\u003eBuilt an interactive canvas-based editor using Three.js for WebGL rendering:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eWebGL Rendering\u003c/strong\u003e: Three.js scene with orthographic camera for precise 2D image viewing\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTile Pyramid System\u003c/strong\u003e: Efficient loading and rendering of large images through multi-resolution tiling\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCanvas Compositing\u003c/strong\u003e: Separate canvases for montage image and ROI overlay layers\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTool System\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eMode-based tool switching (brush, erase, bucket, shapes, transform, move)\u003c/li\u003e\n\u003cli\u003eZoom-aware cursor sizing that matches actual paint area\u003c/li\u003e\n\u003cli\u003eRight-click panning while in any editing mode\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eROI Layer Management\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eVisibility toggling per layer\u003c/li\u003e\n\u003cli\u003eDrag-and-drop reordering\u003c/li\u003e\n\u003cli\u003eInsert-at-position functionality\u003c/li\u003e\n\u003cli\u003eSelection highlighting with crosshair indicators\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003eBackend Architecture\u003c/h4\u003e\n\u003cp\u003eFlask-based Python backend handling image processing:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eTIFF Processing\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eMulti-page TIFF support using tifffile library\u003c/li\u003e\n\u003cli\u003eChannel compositing and color mapping\u003c/li\u003e\n\u003cli\u003eFlip and rotation transformations\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eROI Conversion\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eImageJ .roi file parsing and generation\u003c/li\u003e\n\u003cli\u003ePNG mask to ROI conversion\u003c/li\u003e\n\u003cli\u003eCoordinate transformation handling\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSession Management\u003c/strong\u003e: Per-session file storage with automatic cleanup\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eProgress Streaming\u003c/strong\u003e: Real-time progress updates during file processing\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003eImage Processing Pipeline\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eTile Generation\u003c/strong\u003e: Creates multi-resolution tile pyramids for smooth zooming\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eChannel Compositing\u003c/strong\u003e: RGB composite from multi-channel fluorescence images\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAdjustment Processing\u003c/strong\u003e: Server-side brightness/contrast/exposure adjustments\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eROI Export\u003c/strong\u003e: Converts canvas masks to ImageJ-compatible ROI format with polygon optimization\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eTechnical Highlights\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eLarge Image Handling\u003c/strong\u003e: Efficiently processes and displays TIFF files over 100MB through chunked loading and tile pyramids\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eBinary Mask Painting\u003c/strong\u003e: Hard-edged painting for precise ROI boundaries without anti-aliasing artifacts\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFlood Fill Algorithm\u003c/strong\u003e: Tolerance-based bucket fill for handling similar colors in biological images\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eTransform Pipeline\u003c/strong\u003e: Non-destructive transform preview with final baking to canvas on confirmation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eOverlap Detection\u003c/strong\u003e: Tool to fix overlapping ROIs by removing intersecting regions from other layers\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMulti-Montage Support\u003c/strong\u003e: Load and switch between multiple montage images with per-image adjustment memory\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eKeyboard Shortcuts\u003c/strong\u003e: Ctrl+Z/Y for undo/redo, Ctrl+B/E/U for tool switching\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eUser Interface\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eLeft Sidebar\u003c/strong\u003e: Tools and upload controls with collapsible sections\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCenter Viewer\u003c/strong\u003e: WebGL canvas with coordinate overlay and minimap navigation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRight Sidebar\u003c/strong\u003e: ROI list management with visibility toggles and color controls\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eResponsive Design\u003c/strong\u003e: Auto-collapsing sidebars on mobile/tablet for maximum viewing area\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDebug Console\u003c/strong\u003e: Built-in debugging panel for troubleshooting\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eScientific Application\u003c/h2\u003e\n\u003cp\u003eThe tool supports neuroscience research workflows by enabling:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePrecise annotation of synaptic structures in high-resolution microscopy images\u003c/li\u003e\n\u003cli\u003eConsistent ROI creation across multiple sample images\u003c/li\u003e\n\u003cli\u003eExport of annotations compatible with ImageJ/FIJI analysis pipelines\u003c/li\u003e\n\u003cli\u003eCollaborative annotation through shareable ROI files\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eDeployment\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eDocker Support\u003c/strong\u003e: Containerized deployment with docker-compose for easy installation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePrivate Registry\u003c/strong\u003e: Hosted on institutional GitLab container registry\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePort Configuration\u003c/strong\u003e: Runs on configurable port (default: 6743)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eProject Context\u003c/h2\u003e\n\u003cp\u003eDesigned for Grant Lab at University of Edinburgh to streamline the annotation workflow for synaptic microscopy research, enabling researchers to efficiently create and manage ROI annotations for quantitative analysis.\u003c/p\u003e"])</script><script>self.__next_f.push([1,"12:T1698,"])</script><script>self.__next_f.push([1,"\n## Project Overview\n\nMontageROI Segmenter is a specialized web application designed for neuroscience researchers to annotate and segment high-resolution microscopy montage images. The tool enables researchers to load large multi-channel TIFF images, create precise ROI annotations, and export them in ImageJ-compatible formats for downstream analysis.\n\n## Project Details\n\n### Technologies Used\n\n* Flask (Python Backend)\n* Three.js (WebGL Rendering)\n* JavaScript/HTML5 Canvas\n* Bootstrap 5\n* NumPy \u0026 SciPy (Image Processing)\n* tifffile (TIFF Handling)\n* scikit-image (Image Analysis)\n* PyImageJ (ImageJ Integration)\n* Docker\n\n### Key Features\n\n* **High-Resolution Image Viewing**: Load and navigate large montage TIFF files with smooth pan/zoom using Three.js WebGL rendering and tile pyramid system\n* **Multi-Channel Support**: View composite, false color, max projection, first channel, or grayscale display modes\n* **Comprehensive ROI Tools**:\n  * Brush painting with adjustable size\n  * Eraser tool for precise removal\n  * Bucket fill with tolerance-based filling\n  * Rectangle and circle shape tools\n  * Polygon drawing tool\n  * Square stamp tool with custom dimensions\n* **Transform Operations**: Scale, rotate, and move individual or all visible ROIs with bounding box preview\n* **ROI Management**: Create, rename, duplicate, merge, reorder (drag-and-drop), and delete ROI layers\n* **Color Customization**: Pick custom colors or use preset palette with adjustable opacity\n* **Undo/Redo System**: Per-ROI history tracking for non-destructive editing\n* **Image Adjustments**: Real-time brightness, contrast, and exposure controls with live preview\n* **Import/Export**: Load ROI ZIP files or individual .roi/.png files; export all ROIs as ImageJ-compatible ZIP\n* **Instructions Upload**: Optional text file upload for custom protocols or notes\n* **Touch Support**: Optimized for iPad and touch devices with gesture controls\n\n### Development Process\n\nDeveloped as the primary developer for the Grant Lab at University of Edinburgh to support their neuroscience research workflows.\n\n#### Frontend Architecture\n\nBuilt an interactive canvas-based editor using Three.js for WebGL rendering:\n\n* **WebGL Rendering**: Three.js scene with orthographic camera for precise 2D image viewing\n* **Tile Pyramid System**: Efficient loading and rendering of large images through multi-resolution tiling\n* **Canvas Compositing**: Separate canvases for montage image and ROI overlay layers\n* **Tool System**:\n  * Mode-based tool switching (brush, erase, bucket, shapes, transform, move)\n  * Zoom-aware cursor sizing that matches actual paint area\n  * Right-click panning while in any editing mode\n* **ROI Layer Management**:\n  * Visibility toggling per layer\n  * Drag-and-drop reordering\n  * Insert-at-position functionality\n  * Selection highlighting with crosshair indicators\n\n#### Backend Architecture\n\nFlask-based Python backend handling image processing:\n\n* **TIFF Processing**:\n  * Multi-page TIFF support using tifffile library\n  * Channel compositing and color mapping\n  * Flip and rotation transformations\n* **ROI Conversion**:\n  * ImageJ .roi file parsing and generation\n  * PNG mask to ROI conversion\n  * Coordinate transformation handling\n* **Session Management**: Per-session file storage with automatic cleanup\n* **Progress Streaming**: Real-time progress updates during file processing\n\n#### Image Processing Pipeline\n\n* **Tile Generation**: Creates multi-resolution tile pyramids for smooth zooming\n* **Channel Compositing**: RGB composite from multi-channel fluorescence images\n* **Adjustment Processing**: Server-side brightness/contrast/exposure adjustments\n* **ROI Export**: Converts canvas masks to ImageJ-compatible ROI format with polygon optimization\n\n### Technical Highlights\n\n* **Large Image Handling**: Efficiently processes and displays TIFF files over 100MB through chunked loading and tile pyramids\n* **Binary Mask Painting**: Hard-edged painting for precise ROI boundaries without anti-aliasing artifacts\n* **Flood Fill Algorithm**: Tolerance-based bucket fill for handling similar colors in biological images\n* **Transform Pipeline**: Non-destructive transform preview with final baking to canvas on confirmation\n* **Overlap Detection**: Tool to fix overlapping ROIs by removing intersecting regions from other layers\n* **Multi-Montage Support**: Load and switch between multiple montage images with per-image adjustment memory\n* **Keyboard Shortcuts**: Ctrl+Z/Y for undo/redo, Ctrl+B/E/U for tool switching\n\n### User Interface\n\n* **Left Sidebar**: Tools and upload controls with collapsible sections\n* **Center Viewer**: WebGL canvas with coordinate overlay and minimap navigation\n* **Right Sidebar**: ROI list management with visibility toggles and color controls\n* **Responsive Design**: Auto-collapsing sidebars on mobile/tablet for maximum viewing area\n* **Debug Console**: Built-in debugging panel for troubleshooting\n\n## Scientific Application\n\nThe tool supports neuroscience research workflows by enabling:\n\n* Precise annotation of synaptic structures in high-resolution microscopy images\n* Consistent ROI creation across multiple sample images\n* Export of annotations compatible with ImageJ/FIJI analysis pipelines\n* Collaborative annotation through shareable ROI files\n\n## Deployment\n\n* **Docker Support**: Containerized deployment with docker-compose for easy installation\n* **Private Registry**: Hosted on institutional GitLab container registry\n* **Port Configuration**: Runs on configurable port (default: 6743)\n\n## Project Context\n\nDesigned for Grant Lab at University of Edinburgh to streamline the annotation workflow for synaptic microscopy research, enabling researchers to efficiently create and manage ROI annotations for quantitative analysis.\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$L10\",null,{\"project\":{\"id\":\"montageroi-segmenter\",\"metadata\":{\"title\":\"MontageROI Segmenter - Web-Based ROI Annotation Tool\",\"date\":\"2025-11-13\",\"featured\":true,\"featuredOrder\":1,\"category\":\"research\",\"summary\":\"A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export.\",\"image\":\"/images/montageroisegmenter.jpg\",\"tag\":\"Flask, Python, Three.js, WebGL, JavaScript, Bootstrap, Docker, ImageJ, TIFF Processing\",\"role\":\"Lead Developer\",\"duration\":\"Ongoing\"},\"content\":\"$11\",\"rawContent\":\"$12\"},\"prevProject\":{\"id\":\"nanoarchitecture-synaptome-atlas\",\"title\":\"Nanoarchitecture Synaptome Atlas - Interactive Brain Visualization\"},\"nextProject\":{\"id\":\"synaptopathydb\",\"title\":\"SynaptopathyDB - A Comprehensive Resource for Synaptopathy Research\"}}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"MontageROI Segmenter - Web-Based ROI Annotation Tool | Digin Dominic\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://digindominic.me\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"Digin Dominic\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"Digin Dominic\"}],[\"$\",\"meta\",\"7\",{\"name\":\"publisher\",\"content\":\"Digin Dominic\"}],[\"$\",\"meta\",\"8\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"9\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"https://digindominic.me/projects/montageroi-segmenter/\"}],[\"$\",\"meta\",\"11\",{\"name\":\"google-site-verification\",\"content\":\"your-google-verification-code\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"MontageROI Segmenter - Web-Based ROI Annotation Tool | Digin Dominic\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export.\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:url\",\"content\":\"https://digindominic.me/projects/montageroi-segmenter/\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image\",\"content\":\"https://digindominic.me/images/montageroisegmenter.jpg\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:image:alt\",\"content\":\"MontageROI Segmenter - Web-Based ROI Annotation Tool\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:title\",\"content\":\"MontageROI Segmenter - Web-Based ROI Annotation Tool | Digin Dominic\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:description\",\"content\":\"A powerful web-based application for viewing high-resolution montage TIFF images and creating, editing, and managing Region of Interest (ROI) overlays. Built for the Grant Lab at University of Edinburgh, featuring Three.js WebGL rendering, comprehensive editing tools, and ImageJ-compatible export.\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:image\",\"content\":\"https://digindominic.me/images/montageroisegmenter.jpg\"}]]\n"])</script><script>self.__next_f.push([1,"3:null\n"])</script></body></html>